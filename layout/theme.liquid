<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shopify Parcel</title>

    {{ content_for_header }}

    {%- capture prefix -%}{%- render 'asset-prefix' -%}{%- endcapture -%}

    <script>
      window.routes = {
        cart_add_url: '{{ routes.cart_add_url }}',
        cart_url: '{{ routes.cart_url }}',
        cart_clear_url: '{{ routes.cart_clear_url }}',
        cart_change_url: '{{ routes.cart_change_url }}',
      };
    </script>

    {%- # Scripts -%}
    <script src="{{ 'global.js' | asset_url }}" defer="defer"></script>
    <script src="{{ 'main.js' | prepend: prefix | asset_url }}" type="module" defer="defer"></script>

    {%- # Styles -%}
    {{ 'main.css' | prepend: prefix | asset_url | stylesheet_tag: preload: true }}

    {%- # Preload fonts -%}
    {{- 'Inter-Regular.woff2' | asset_url | preload_tag: as: 'font', type: 'font/woff2', crossorigin: true -}}
    {{- 'Inter-Bold.woff2' | asset_url | preload_tag: as: 'font', type: 'font/woff2', crossorigin: true -}}

    {%- # Preload images -%}
    <link
      rel="icon"
      href="{{ 'favicon.ico' | asset_url }}"
    >
  </head>
  <body class="p-8 bg-slate-900 text-sm text-white">
    <header class="mb-8">
      <h1 class="mb-4"><a href="/" class="font-bold">👩‍🏫 Demo: Componentize elements</a></h1>
      <ul class="flex gap-4 flex-wrap">
        <li>👀 <a href="/products/t-shirt" class="">Product</a></li>
        <li>
          🛒
          <a
            href="/cart"
            onclick="event.preventDefault(); document.querySelector('.group\\/cart-drawer').toggleAttribute('data-active', true);"
            >Cart
            <cart-count
              class="hidden data-[active]:inline before:content-['('] after:content-[')']"
              {% if cart.item_count > 0 %}
                data-active
              {% endif %}
            >
              {{- cart.item_count -}}
            </cart-count></a
          >
        </li>
        <li>
          🎫
          <a
            href="https://www.notion.so/ask-phill/Componentize-elements-1388d9f24d1848818aba35840190aa8f?pvs=4"
            class=""
          >
            Task</a
          >
        </li>
      </ul>
    </header>

    {{ content_for_layout }}

    {% section 'cart-drawer' %}
  </body>
</html>
